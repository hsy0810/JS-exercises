<!doctype html>
<html lang="ja">

<head>
  <title>Simple ToDo</title>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width" />
  <script  type="module">
    async function initializeTodo() {
        try {
          // 動的にモジュールをインポート
          const module = await import('./index.js');
          
          // モジュールの addTodo 関数を呼び出す
          module.addTodo();
        } catch (error) {
          console.error('Error loading the module:', error);
        }
      }

      document.addEventListener('DOMContentLoaded', initializeTodo);
  </script>
</head>

<body>
  <form id="new-todo-form">
    <input type="text" id="new-todo" placeholder="What needs to be done?" />
    <button type="submit">Add</button>
  </form>
  <ul id="todo-list"></ul>
</body>

</html>